<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
<head>
  {% include head.html %}
  <style>
    .page-content {
      display: flex;
    }

    .toc { 
      width: 250px; 
      margin-right: 20px;
      padding: 20px;
      border-right: 1px solid #ccc;
      font-family: Arial, sans-serif; 
    }

    .toc h2 {
      font-size: 14px; 
      font-weight: bold;
      margin-bottom: 10px;
    }

    .toc ul {
      list-style: none; 
      padding: 0;
    }

    .toc a {
      display: block;
      margin-bottom: 5px;
      text-decoration: none;
      color: #333; 
    }

    .toc a:hover {
      text-decoration: underline; 
    }

    .toc .h2 { 
      font-weight: bold;
      margin-left: 0px; 
    }

    .toc .h3 { 
      font-weight: normal;
      margin-left: 15px; 
    }
  </style>
</head>
<body>
  {% include header.html %}

  <main class="page-content" aria-label="Content">
    <div class="wrapper toc"> 
      <h2>Table of Contents</h2>
      <ul id="toc-list"></ul> 
    </div>

    <div class="wrapper content-wrapper">
      {{ content }} 
    </div>
  </main>

  {% include footer.html %}

  <script>
    const headings = document.querySelectorAll('.content-wrapper h2, .content-wrapper h3'); 
    const tocList = document.getElementById('toc-list');

    headings.forEach(heading => {
      const level = heading.tagName.toLowerCase();
      const title = heading.textContent;
      const link = '#' + heading.id; 

      const listItem = document.createElement('li');
      const tocLink = document.createElement('a');
      tocLink.href = link;
      tocLink.textContent = title;
      tocLink.classList.add(level); 

      listItem.appendChild(tocLink);
      tocList.appendChild(listItem);
    });
  </script>
</body>
</html>